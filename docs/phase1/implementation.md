# Sugu Phase 1 実装範囲

Phase 1 では、言語の基本機能を実装します。

---

## 実装フロー

インタプリタは以下の流れで動作します：

```
ソースコード → [Lexer] → トークン列 → [Parser] → AST → [Evaluator] → 結果
```

### 実装タスク

#### Step 1: プロジェクト初期化
- [x] Go モジュール初期化
- [x] ディレクトリ構成作成

#### Step 2: トークン定義（token パッケージ）
- [x] トークン型の定義
- [x] キーワードの定義

#### Step 3: 字句解析器（lexer パッケージ）
- [x] 基本的な字句解析
- [x] 数値リテラル
- [x] 文字列リテラル
- [x] 演算子・記号
- [x] キーワード識別
- [x] コメント処理（`//`, `//-- --//`）
- [x] Lexer テスト

#### Step 4: AST 定義（ast パッケージ）
- [x] ノードインターフェース
- [x] 式（Expression）ノード
- [x] 文（Statement）ノード

#### Step 5: 構文解析器（parser パッケージ）
- [x] 式の解析
- [x] 演算子優先順位
- [x] 変数宣言の解析
- [x] 制御構文の解析（if, switch, while, for）
- [x] 関数定義の解析
- [x] Parser テスト

#### Step 6: オブジェクトシステム（object パッケージ）
- [x] オブジェクト型定義
- [x] 環境（変数スコープ）

#### Step 7: 評価器（evaluator パッケージ）
- [x] リテラル評価
- [x] 演算子評価
- [x] 変数の評価
- [x] 制御構文の評価
- [x] 関数の評価
- [x] 組み込み関数（out, outln, in, type）
- [x] Evaluator テスト

#### Step 8: REPL
- [x] 対話型実行環境
- [x] ファイル実行機能

---

## 実装する機能

### データ型

| 型 | 説明 |
|---|---|
| number | 数値（整数・小数を統一） |
| string | 文字列（ダブルクォートのみ） |
| boolean | 真偽値（`true`, `false`） |
| null | 値がないことを表す |

※ テンプレートリテラル、配列、オブジェクトは Phase 2 以降

### 変数宣言

| キーワード | 意味 |
|---|---|
| `mut` | 再代入可能 |
| `const` | 再代入不可 |

### 演算子

- 算術: `+`, `-`, `*`, `/`, `%`
- 比較: `==`, `!=`, `<`, `>`, `<=`, `>=`
- 論理: `&&`, `||`, `!`

### 制御構文

- `if` / `else if` / `else`
- `switch` / `case` / `default`
- `while`
- `for`
- `break`, `continue`

### 関数

```javascript
func name(args) => {
    return value;
}
```

### コメント

- 単一行: `//`
- 複数行: `//-- --//`

### 組み込み関数

| 関数 | 説明 |
|---|---|
| `out(x)` | 出力（改行なし） |
| `outln(x)` | 出力（改行あり） |
| `in()` | ユーザー入力を受け取る |
| `type(x)` | 型を文字列で返す |

---

## Phase 2 以降で実装予定

- テンプレートリテラル（`` `Hello ${name}` ``）
- 配列（`[1, 2, 3]`）
- オブジェクト（`{ key: "value" }`）
- `len()` 関数
